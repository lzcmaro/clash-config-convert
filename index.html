<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<title>Clash æ‡’äººè®¢é˜…é…ç½®ç”Ÿæˆ</title>
<style>
  body { font-family:sans-serif; max-width:600px; margin:50px auto;}
  input{ width:100%; padding:8px; font-size:16px;}
  button{ margin-top:10px; padding:8px 12px; font-size:16px;}
</style>
</head>
<body>

<h2>ğŸ”§ Clash æ‡’äººé…ç½®</h2>
<p>è¾“å…¥ä½ çš„è®¢é˜…é“¾æ¥ï¼Œæˆ‘ä¼šç”Ÿæˆå®Œæ•´çš„ YAMLã€‚</p>

<input id="inputUrl" placeholder="https://example.com/subscription" />
<button onclick="gen()">ç”Ÿæˆ YAML</button>

<script>
async function gen() {
  const url = document.getElementById("inputUrl").value.trim()
  if (!url) return alert("è¯·å…ˆè¾“å…¥è®¢é˜…é“¾æ¥")

  // è¯»å–æ¨¡æ¿
  const res = await fetch("template.yaml")
  let yaml = await res.text()

  // æ›¿æ¢å ä½ç¬¦
  yaml = yaml.replace(/{{SUB_URL}}/g, url)

  // ä¸‹è½½
  const blob = new Blob([yaml], { type: "text/yaml" })
  const a = document.createElement("a")
  a.href = URL.createObjectURL(blob)
  a.download = "config.yaml"
  a.click()
}
</script>

</body>
</html>
